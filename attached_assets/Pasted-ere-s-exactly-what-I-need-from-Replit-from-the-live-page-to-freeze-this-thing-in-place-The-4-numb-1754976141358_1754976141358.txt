ere’s exactly what I need from Replit (from the live page) to freeze this thing in place:
The 4 numbers (pixels, not poetry)

Run these in the console and send the values:

    FRAME_TOP — distance from top of viewport to the top edge of the red frame.

Math.round(document.querySelector('#story-frame').getBoundingClientRect().top)

    AI_HEIGHT — the green panel’s full rendered height (including padding and border).

Math.round(document.querySelector('#ai-panel').getBoundingClientRect().height)

    GAP_BELOW — the exact visual gap you want between the red frame bottom and the green panel top (from pic 2).

const f = document.querySelector('#story-frame').getBoundingClientRect();
const a = document.querySelector('#ai-panel').getBoundingClientRect();
Math.round(a.top - f.bottom)

    TOOLBAR_HEIGHT — the editor toolbar’s computed height (so the text area caps properly).

getComputedStyle(document.querySelector('.ql-toolbar, .tiptap-toolbar')).height

One yes/no so I stop guessing

    Should the page itself ever scroll?

        If no: all scrolling happens inside the red frame; body/page stays static.

        If yes: fine, but the green panel must be position: sticky; bottom: 0 so it stays put.

What I’ll lock once I have those numbers

    Red frame height:

height: calc(100dvh - FRAME_TOP - AI_HEIGHT - GAP_BELOW)

That makes the red frame a fixed viewport window that never grows. All overflow scrolls inside it.

Editor content area:

    max-height: calc(100% - TOOLBAR_HEIGHT)
    overflow-y: auto;

    So smashing Enter just scrolls the editor, not the frame, not the page, not the green box.

    Green panel:

        If page doesn’t scroll: leave it as a sibling under the red frame.

        If page can scroll: make it position: sticky; bottom: 0 so it never moves.

DOM sanity (so they don’t “helpfully” break it again)

    #story-frame and #ai-panel must be siblings.

    The scrollable element is the direct child inside #story-frame (not the card, not the page).

    No height: 100% or max-height: 100% left on the editor wrappers that would fight the frame height.